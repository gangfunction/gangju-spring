## 1번
### 예시:
동시에 같은 DB Table row 를 업데이트 하는 상황을 방어하기 위해 어떻게 개발하실 건지 설명해주세요.
### 문제분석:
격리성 관련하여 (Dirty read )발생.
 - dirty read: 트랜잭션의 중간 수행결과를 다른 트랜잭션이 참조함으로써 발생하는 오류
동시성 관련하여 (Cascading Rollback)발생.
 - cascading rollback : 복수의 트랜잭션이 데이터 공유시 특정 트랜잭션이 처리를 취소할 경우 다른 트랜잭션이 처리한 부분에 대해서 취소가 불가능하다.

### 동시성 제어 기법:
Locking
데이터가 변경될때마다 변경이 쉽게 일어나지 않게 lock을 걸어준다.
- 데이터 오류 가능성을 예방할 수 있고 간단한 알고리즘이지만 Deadlock(교착상태)가 가능하다.

TimeStamp ordering
도착시간별 식별자 부여를 하지만 Rollback이 가능해진다.
<br/>
시스템 계수기와 논리적 계수기 방식이 존재한다.
<br/>
시스템 계수기: 시스템시간을 타임스탬프 값으로 부여
<br/>
논리적 계수기 방식: 트랜잭션 발생시마다 카운터를 하나씩 증가시켜 부여한다.

검증
트랜잭션 처리시 메모리상 복사본에 대한 연산을 수행하고 검증 완료시 반영, 하지만 장기 트랜잭션 철회시 자원낭비가된다.

다중 버전 동시성 제어 (Multi-version Concurrency Control)
version이라는 숫자컬럼 또는 updated_at 이라는 시간컬럼을 만들어서 수정될 때마다 1씩 증가하거나, 현재시간으로 갱신하게 해줍니다.
값을 수정할 때 Versino이 동일하면 수정이 가능해지고, 동일하지 않으면 수정에 실패합니다. undo 블록 i/o에 따른 오버헤드가 발생한다.

### 동시성 제어 기법에대한 해석:
Locking 특히 2pl(2phase locking) 은 직렬가능성을 보장하기위해 사용되고,
<br/>
Timestamp ordering은 트랜잭션의 특성상 교착상태를 방지할 수 있다.
<br/>
검증기법은, 트랜잭션 종료시에만 동시성을 검증하므로 동작이 단순한 편이다.
<br/>
mvcc에서 데이터에 접근할때 사용자는 접근할 시점의 데이터베이스의 스냅샷을 읽고 변경이 완료될 때마다
다른 데이터베이스 사용자가 볼수 없게 하고, 새로운 버전의 데이터를 undo 영역에 생성하고 사용한다.

### 그럼 이 문제들을 해결하기 위해서 어떻게 설계 해야할까?







